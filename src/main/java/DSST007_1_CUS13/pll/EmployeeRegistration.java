/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package DSST007_1_CUS13.pll;

import DSST007_1_CUS13.bll.EmployeeRegistration_BLL;
import java.awt.Dimension;
import java.awt.Graphics;
import java.awt.Graphics2D;
import java.awt.Image;
import java.awt.RenderingHints;
import java.awt.image.BufferedImage;
import java.io.ByteArrayOutputStream;
import java.io.File;
import java.util.Base64;
import javax.imageio.ImageIO;
import javax.swing.ImageIcon;
import javax.swing.JFileChooser;
import javax.swing.JOptionPane;
import javax.swing.filechooser.FileNameExtensionFilter;


/**
 *
 * @author praveen
 */
public class EmployeeRegistration extends javax.swing.JInternalFrame {

    private static EmployeeRegistration instance;
    File imagefile;
    
    /**
     * Creates new form Employee_Registration
     */
    public EmployeeRegistration() {
        initComponents();
    }

    public static EmployeeRegistration getInstance()
    {
        
        if (instance == null)
            
            instance = new EmployeeRegistration();

        return instance;
        
    }
    
    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents()
    {
        java.awt.GridBagConstraints gridBagConstraints;

        jPanel1 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        empId_jtf = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        empName_jcb = new javax.swing.JComboBox<>();
        jLabel3 = new javax.swing.JLabel();
        browsePhoto_jb = new javax.swing.JButton();
        removePhoto_jb = new javax.swing.JButton();
        photo_jlbl = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        empAddress_jtf = new javax.swing.JTextField();
        jLabel6 = new javax.swing.JLabel();
        empCity_jcb = new javax.swing.JComboBox<>();
        jLabel7 = new javax.swing.JLabel();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        empDistrict_jcb = new javax.swing.JComboBox<>();
        empState_jcb = new javax.swing.JComboBox<>();
        empCountry_jcb = new javax.swing.JComboBox<>();
        jLabel10 = new javax.swing.JLabel();
        empPincode_jtf = new javax.swing.JTextField();
        jLabel11 = new javax.swing.JLabel();
        empMobile_jtf = new javax.swing.JTextField();
        jLabel12 = new javax.swing.JLabel();
        empLandline_jtf = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        empEmail_jtf = new javax.swing.JTextField();
        jLabel14 = new javax.swing.JLabel();
        empDepartment_jcb = new javax.swing.JComboBox<>();
        jLabel15 = new javax.swing.JLabel();
        empDesignation_jcb = new javax.swing.JComboBox<>();
        jSeparator1 = new javax.swing.JSeparator();
        jPanel2 = new javax.swing.JPanel();
        save_jb = new javax.swing.JButton();
        new_jb = new javax.swing.JButton();
        close_jb = new javax.swing.JButton();
        jLabel4 = new javax.swing.JLabel();
        basicSal_jtf = new javax.swing.JTextField();

        setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 255)));
        setClosable(true);
        setTitle("Create > Employee");
        setFrameIcon(new javax.swing.ImageIcon(getClass().getResource("/DSST007_1_CUS13/InstabizTrader Logo Final 35x35.png"))); // NOI18N
        addInternalFrameListener(new javax.swing.event.InternalFrameListener()
        {
            public void internalFrameOpened(javax.swing.event.InternalFrameEvent evt)
            {
                formInternalFrameOpened(evt);
            }
            public void internalFrameClosing(javax.swing.event.InternalFrameEvent evt)
            {
                formInternalFrameClosing(evt);
            }
            public void internalFrameClosed(javax.swing.event.InternalFrameEvent evt)
            {
                formInternalFrameClosed(evt);
            }
            public void internalFrameIconified(javax.swing.event.InternalFrameEvent evt)
            {
            }
            public void internalFrameDeiconified(javax.swing.event.InternalFrameEvent evt)
            {
            }
            public void internalFrameActivated(javax.swing.event.InternalFrameEvent evt)
            {
            }
            public void internalFrameDeactivated(javax.swing.event.InternalFrameEvent evt)
            {
            }
        });

        jPanel1.setBackground(new java.awt.Color(242, 242, 255));
        jPanel1.setLayout(new java.awt.GridBagLayout());

        jLabel1.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel1.setText("Employee ID :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanel1.add(jLabel1, gridBagConstraints);

        empId_jtf.setPreferredSize(new java.awt.Dimension(150, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel1.add(empId_jtf, gridBagConstraints);

        jLabel2.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel2.setText("Employee Name :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel2, gridBagConstraints);

        empName_jcb.setEditable(true);
        empName_jcb.setPreferredSize(new java.awt.Dimension(250, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empName_jcb, gridBagConstraints);

        jLabel3.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel3.setText("Select Photo :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanel1.add(jLabel3, gridBagConstraints);

        browsePhoto_jb.setBackground(new java.awt.Color(86, 132, 191));
        browsePhoto_jb.setFont(new java.awt.Font("DejaVu Sans", 0, 11)); // NOI18N
        browsePhoto_jb.setText("Browse>>");
        browsePhoto_jb.setPreferredSize(new java.awt.Dimension(95, 27));
        browsePhoto_jb.addMouseListener(new java.awt.event.MouseAdapter()
        {
            public void mouseClicked(java.awt.event.MouseEvent evt)
            {
                browsePhoto_jbMouseClicked(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHEAST;
        gridBagConstraints.insets = new java.awt.Insets(20, 0, 0, 2);
        jPanel1.add(browsePhoto_jb, gridBagConstraints);

        removePhoto_jb.setBackground(new java.awt.Color(86, 132, 191));
        removePhoto_jb.setFont(new java.awt.Font("DejaVu Sans", 0, 11)); // NOI18N
        removePhoto_jb.setText("<<Remove");
        removePhoto_jb.setPreferredSize(new java.awt.Dimension(95, 27));
        removePhoto_jb.addMouseListener(new java.awt.event.MouseAdapter()
        {
            public void mouseClicked(java.awt.event.MouseEvent evt)
            {
                removePhoto_jbMouseClicked(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTHEAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 2);
        jPanel1.add(removePhoto_jb, gridBagConstraints);

        photo_jlbl.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(153, 153, 255)));
        photo_jlbl.setPreferredSize(new java.awt.Dimension(132, 132));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.gridheight = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 0);
        jPanel1.add(photo_jlbl, gridBagConstraints);

        jLabel5.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel5.setText("Address :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 5, 0, 0);
        jPanel1.add(jLabel5, gridBagConstraints);

        empAddress_jtf.setPreferredSize(new java.awt.Dimension(300, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(5, 0, 0, 5);
        jPanel1.add(empAddress_jtf, gridBagConstraints);

        jLabel6.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel6.setText("City :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel6, gridBagConstraints);

        empCity_jcb.setEditable(true);
        empCity_jcb.setPreferredSize(new java.awt.Dimension(250, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 6;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empCity_jcb, gridBagConstraints);

        jLabel7.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel7.setText("District :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel7, gridBagConstraints);

        jLabel8.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel8.setText("State :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel8, gridBagConstraints);

        jLabel9.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel9.setText("Country :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel9, gridBagConstraints);

        empDistrict_jcb.setEditable(true);
        empDistrict_jcb.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empDistrict_jcb, gridBagConstraints);

        empState_jcb.setEditable(true);
        empState_jcb.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 8;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empState_jcb, gridBagConstraints);

        empCountry_jcb.setEditable(true);
        empCountry_jcb.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 9;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empCountry_jcb, gridBagConstraints);

        jLabel10.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel10.setText("Pincode :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel10, gridBagConstraints);

        empPincode_jtf.setPreferredSize(new java.awt.Dimension(200, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 10;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empPincode_jtf, gridBagConstraints);

        jLabel11.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel11.setText("Mobile :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 11;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel11, gridBagConstraints);

        empMobile_jtf.setPreferredSize(new java.awt.Dimension(200, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 11;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empMobile_jtf, gridBagConstraints);

        jLabel12.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel12.setText("Landline :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel12, gridBagConstraints);

        empLandline_jtf.setPreferredSize(new java.awt.Dimension(200, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 12;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empLandline_jtf, gridBagConstraints);

        jLabel13.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel13.setText("E-Mail :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 13;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel13, gridBagConstraints);

        empEmail_jtf.setPreferredSize(new java.awt.Dimension(200, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 13;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empEmail_jtf, gridBagConstraints);

        jLabel14.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel14.setText("Department :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel14, gridBagConstraints);

        empDepartment_jcb.setEditable(true);
        empDepartment_jcb.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 14;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empDepartment_jcb, gridBagConstraints);

        jLabel15.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel15.setText("Designation :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 15;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel15, gridBagConstraints);

        empDesignation_jcb.setEditable(true);
        empDesignation_jcb.setPreferredSize(new java.awt.Dimension(200, 25));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 15;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(empDesignation_jcb, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 17;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.insets = new java.awt.Insets(4, 0, 0, 0);
        jPanel1.add(jSeparator1, gridBagConstraints);

        jPanel2.setBackground(new java.awt.Color(242, 242, 255));
        jPanel2.setLayout(new java.awt.GridBagLayout());

        save_jb.setBackground(new java.awt.Color(185, 197, 31));
        save_jb.setText("Save");
        save_jb.setPreferredSize(new java.awt.Dimension(100, 27));
        save_jb.addMouseListener(new java.awt.event.MouseAdapter()
        {
            public void mouseClicked(java.awt.event.MouseEvent evt)
            {
                save_jbMouseClicked(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        jPanel2.add(save_jb, gridBagConstraints);

        new_jb.setBackground(new java.awt.Color(86, 132, 191));
        new_jb.setText("New");
        new_jb.setPreferredSize(new java.awt.Dimension(100, 27));
        new_jb.addMouseListener(new java.awt.event.MouseAdapter()
        {
            public void mouseClicked(java.awt.event.MouseEvent evt)
            {
                new_jbMouseClicked(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 0;
        jPanel2.add(new_jb, gridBagConstraints);

        close_jb.setBackground(new java.awt.Color(86, 132, 191));
        close_jb.setMnemonic('c');
        close_jb.setText("Close");
        close_jb.setPreferredSize(new java.awt.Dimension(100, 27));
        close_jb.addActionListener(new java.awt.event.ActionListener()
        {
            public void actionPerformed(java.awt.event.ActionEvent evt)
            {
                close_jbActionPerformed(evt);
            }
        });
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 2;
        gridBagConstraints.gridy = 0;
        jPanel2.add(close_jb, gridBagConstraints);

        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 18;
        gridBagConstraints.gridwidth = 2;
        gridBagConstraints.insets = new java.awt.Insets(10, 0, 10, 0);
        jPanel1.add(jPanel2, gridBagConstraints);

        jLabel4.setFont(new java.awt.Font("Arial", 0, 12)); // NOI18N
        jLabel4.setText("Basic Salary :");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 5, 0, 0);
        jPanel1.add(jLabel4, gridBagConstraints);

        basicSal_jtf.setPreferredSize(new java.awt.Dimension(120, 27));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 16;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        jPanel1.add(basicSal_jtf, gridBagConstraints);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        setBounds(0, 0, 410, 590);
    }// </editor-fold>//GEN-END:initComponents

    private void formInternalFrameOpened(javax.swing.event.InternalFrameEvent evt) {//GEN-FIRST:event_formInternalFrameOpened
        // TODO add your handling code here:
        
        form_InternalFrameOpened();
        
    }//GEN-LAST:event_formInternalFrameOpened

    private void form_InternalFrameOpened()
    {
        Dimension desktopSize = NewMDIApplication.desktopbg_jlbl.getSize();
        Dimension jInternalFrameSize = this.getSize();
        this.setLocation((desktopSize.width - jInternalFrameSize.width)/2,(desktopSize.height- jInternalFrameSize.height)/2);
        //-----------------------
        
    }
    
    private void formInternalFrameClosed(javax.swing.event.InternalFrameEvent evt) {//GEN-FIRST:event_formInternalFrameClosed
        // TODO add your handling code here:
        
        instance = null;
        
    }//GEN-LAST:event_formInternalFrameClosed

    private void formInternalFrameClosing(javax.swing.event.InternalFrameEvent evt) {//GEN-FIRST:event_formInternalFrameClosing
        // TODO add your handling code here:
        
        instance = null;
        
    }//GEN-LAST:event_formInternalFrameClosing

    private void save_jbMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_save_jbMouseClicked
        // TODO add your handling code here:
        
        save_jb_MouseClicked();
        
    }//GEN-LAST:event_save_jbMouseClicked

    private void browsePhoto_jbMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_browsePhoto_jbMouseClicked
        // TODO add your handling code here:
        
        browsePhoto_jb_MouseClicked();
        
    }//GEN-LAST:event_browsePhoto_jbMouseClicked

    private void removePhoto_jbMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_removePhoto_jbMouseClicked
        // TODO add your handling code here:
        
        removePhoto_jb_MouseClicked();
        
    }//GEN-LAST:event_removePhoto_jbMouseClicked

    private void new_jbMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_new_jbMouseClicked
        // TODO add your handling code here:
    }//GEN-LAST:event_new_jbMouseClicked

    private void close_jbActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_close_jbActionPerformed
        // TODO add your handling code here:
        
        close_jb_ActionPerformed();
        
    }//GEN-LAST:event_close_jbActionPerformed

    private void close_jb_ActionPerformed()
    {
        
        this.dispose();
        
    }
    
    private void new_jb_MouseClicked()
    {
        
        
        
    }
    
    private void newData()
    {
    
        
        
    }
    
    private void removePhoto_jb_MouseClicked()
    {
        if(removePhoto_jb.isEnabled() == true)
        {
            imagefile = null;
            photo_jlbl.setIcon(null);
        }
        
    }
    
    private void browsePhoto_jb_MouseClicked()
    {
        if(browsePhoto_jb.isEnabled() == true)
        {
            loadImage();
        }
        
    }
    
    private void loadImage()
    {
        
        try
        {
       
            String imagename = empId_jtf.getText();
            
            JFileChooser fileChooser = new JFileChooser();
            fileChooser.setSelectedFile(new File(imagename+".jpeg"));
            FileNameExtensionFilter filter = new FileNameExtensionFilter("Image", "jpg", "png", "tif");
            fileChooser.addChoosableFileFilter(filter);

            fileChooser.setCurrentDirectory(new File(System.getProperty("user.home")));

            int result = fileChooser.showOpenDialog(this);
            if (result == JFileChooser.APPROVE_OPTION) 
            {

                imagefile = fileChooser.getSelectedFile();
                photo_jlbl.setIcon(new ImageIcon(scaleImage(ImageIO.read(imagefile),BufferedImage.TYPE_INT_RGB,132,132)));

            }
            
        }
        catch(Exception e)
        {
            
            JOptionPane.showMessageDialog(null, "EmployeeRegistration:loadImage() :"+e);
            
        }
        
    }
    
    public static BufferedImage scaleImage(BufferedImage image, int imageType, int newWidth, int newHeight) {
        // Make sure the aspect ratio is maintained, so the image is not distorted
        double thumbRatio = (double) newWidth / (double) newHeight;
        int imageWidth = image.getWidth(null);
        int imageHeight = image.getHeight(null);
        double aspectRatio = (double) imageWidth / (double) imageHeight;

        if (thumbRatio < aspectRatio) {
            newHeight = (int) (newWidth / aspectRatio);
        } else {
            newWidth = (int) (newHeight * aspectRatio);
        }

        // Draw the scaled image
        BufferedImage newImage = new BufferedImage(newWidth, newHeight,
                imageType);
        Graphics2D graphics2D = newImage.createGraphics();
        graphics2D.setRenderingHint(RenderingHints.KEY_INTERPOLATION,
            RenderingHints.VALUE_INTERPOLATION_BILINEAR);
        graphics2D.drawImage(image, 0, 0, newWidth, newHeight, null);

        return newImage;
    }
    
    public static String getImageFormat(String ImageName) 
    {

        return (ImageName.substring((ImageName.indexOf('.'))+1,ImageName.length()));
        
    }
    
    private void save_jb_MouseClicked()
    {
        try
        {
            if(validation()==true)
            {
                if(imagefile == null)
                {
                    int response = JOptionPane.showConfirmDialog(null, "Do you want to Save without Photo?", "Confirm",JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE);

                    if(response == JOptionPane.YES_OPTION)
                    {
                        saveEmployeeData();
                    }
                }
                else
                {
                    saveEmployeeData();
                }
            }
        }
        catch(Exception e)
        {
            JOptionPane.showMessageDialog(this,"EmployeeRegistration:save_jb_MouseClicked :"+e);
        }
    }

    private void saveEmployeeData()
    {
        
        try
        {
            
            String employee_id = empId_jtf.getText();
            String employee_name = empName_jcb.getSelectedItem().toString();
            //File photo = imagefile;
             //Get image form label and convert it into string
                String photoAsString = null;
                String image_format = null;
                if(photo_jlbl.getIcon() != null)
                {

                    //Convert image to String
                    image_format = getImageFormat(imagefile.toString());
                    ImageIcon ic = (ImageIcon)photo_jlbl.getIcon();
                    Image image = ic.getImage();
                    
                    ByteArrayOutputStream bos = new ByteArrayOutputStream();
                    BufferedImage bi = new BufferedImage(image.getWidth(this), image.getHeight(this),BufferedImage.TYPE_INT_RGB);
                    Graphics g = bi.createGraphics();
                    g.drawImage(image, 0, 0, null);
                    g.dispose();
                    ImageIO.write(bi, image_format, bos);
                    byte[] imageBytes = bos.toByteArray();
                    photoAsString = Base64.getEncoder().encodeToString(imageBytes);
                    bos.close();

                }
                else
                {
                    
                    photoAsString = null;
                    image_format = null;
                    
                }
            String address = empAddress_jtf.getText();
            String city = empCity_jcb.getSelectedItem().toString();
            String district = empDistrict_jcb.getSelectedItem().toString();
            String state = empState_jcb.getSelectedItem().toString();
            String country = empCountry_jcb.getSelectedItem().toString();
            String pincode = empPincode_jtf.getText();
            String mobile = empMobile_jtf.getText();
            String landline = empLandline_jtf.getText();
            String email = empEmail_jtf.getText();
            String department = empDepartment_jcb.getSelectedItem().toString();
            String designation = empDesignation_jcb.getSelectedItem().toString();
            String userid = "";
            String user_type = "Admin";
            String institution_id = "NA";
            String salary = basicSal_jtf.getText();
            
            EmployeeRegistration_BLL employeeRegistration_BLL = new EmployeeRegistration_BLL();
            employeeRegistration_BLL.getEmployeeDetails(employee_id, employee_name, photoAsString, address, city, district, state, country, pincode, mobile, landline, email, department, designation, userid, user_type, institution_id, image_format, salary);
            
            if(employeeRegistration_BLL.get_operation_status().equals("success"))
            {

                
                JOptionPane.showMessageDialog(null,"Operation Successful.","Success",JOptionPane.INFORMATION_MESSAGE);
                save_jb.setEnabled(false);
              
                new_jb.requestFocusInWindow();

            }
            
            
        }
        catch(Exception e)
        {
            
            JOptionPane.showMessageDialog(this, "EmployeeRegistration:saveEmployeeData :"+e);
            
        }
        
        
    }
    
    private boolean validation()
    {
        
        boolean valid = true;
        
        if(empId_jtf.getText().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Employee ID.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empName_jcb.getSelectedItem() ==  null || empName_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Employee Name.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empAddress_jtf.getText().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify the Address.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empCity_jcb.getSelectedItem() ==  null || empCity_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify City.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empDistrict_jcb.getSelectedItem() ==  null || empDistrict_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify District.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empState_jcb.getSelectedItem() ==  null || empState_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify State.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empCountry_jcb.getSelectedItem() ==  null || empCountry_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Country.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empMobile_jtf.getText().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Mobile Number.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empDepartment_jcb.getSelectedItem() ==  null || empDepartment_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Department.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        else if(empDesignation_jcb.getSelectedItem() ==  null || empDesignation_jcb.getSelectedItem().toString().equals(""))
        {
            
            JOptionPane.showMessageDialog(this,"Please specify Designation.","Error",JOptionPane.ERROR_MESSAGE); 
            
            valid = false;
            
        }
        
        return valid;
        
    }
    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JTextField basicSal_jtf;
    private javax.swing.JButton browsePhoto_jb;
    private javax.swing.JButton close_jb;
    private javax.swing.JTextField empAddress_jtf;
    private javax.swing.JComboBox<String> empCity_jcb;
    private javax.swing.JComboBox<String> empCountry_jcb;
    private javax.swing.JComboBox<String> empDepartment_jcb;
    private javax.swing.JComboBox<String> empDesignation_jcb;
    private javax.swing.JComboBox<String> empDistrict_jcb;
    private javax.swing.JTextField empEmail_jtf;
    private javax.swing.JTextField empId_jtf;
    private javax.swing.JTextField empLandline_jtf;
    private javax.swing.JTextField empMobile_jtf;
    private javax.swing.JComboBox<String> empName_jcb;
    private javax.swing.JTextField empPincode_jtf;
    private javax.swing.JComboBox<String> empState_jcb;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JSeparator jSeparator1;
    private javax.swing.JButton new_jb;
    private javax.swing.JLabel photo_jlbl;
    private javax.swing.JButton removePhoto_jb;
    private javax.swing.JButton save_jb;
    // End of variables declaration//GEN-END:variables
}
